/* ---------- Design tokens ---------- */
@font-face {
  font-family: "iA Writer Mono S";
  src: url("/fonts/iAWriterMonoS-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "iA Writer Mono S";
  src: url("/fonts/iAWriterMonoS-Bold.woff2") format("woff2");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

:root{
  /* Colors (very light, print-ish) */
  --bg: #fbfaf7;
  --text: #121212;
  --muted: #4b4b4b;
  --faint: rgba(0,0,0,.12);
  --link: #0e5da7;
  --link-hover: #ff009d;
  --nav-underline: #60a1de; 

  /* Layout */
  --max: 70ch;
  --gutter: clamp(1.2rem, 3.5vw, 2.4rem);
  --pad-top: clamp(2.4rem, 5vw, 2.2rem);

  /* Type */
  --font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
               Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  --font-mono: "iA Writer Mono S", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;

  /* Prefer a “quiet” serif for headings; body stays very readable */
  --body-font: var(--font-mono);
  --heading-font: var(--font-mono);

  /* Fluid scale */
  --step--1: clamp(0.92rem, 0.85rem + 0.3vw, 1.02rem);
  --step-0:  clamp(1.05rem, 0.95rem + 0.5vw, 1.2rem);
  --step-1:  clamp(1.25rem, 1.05rem + 1vw, 1.55rem);
  --step-2:  clamp(1.6rem, 1.2rem + 2vw, 1.7rem);
  --step-3:  clamp(2.1rem, 1.4rem + 3vw, 3rem);

  /* Rhythm */
  --leading: 1.65;
}

/* ---------- Base ---------- */
*{ box-sizing: border-box; }
html{ color-scheme: light; }
body{
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: var(--font-mono);
  font-size: var(--step-0);
  line-height: var(--leading);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/* Subtle paper/noise feel (optional, safe) */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events:none;
  background-image:
    radial-gradient(transparent 0, transparent 2px, rgba(0,0,0,.02) 2.2px);
  background-size: 18px 18px;
  opacity: .35;
  mix-blend-mode: multiply;
}

strong, b {
  font-weight: 700;
}

/* ---------- Layout ---------- */
.page{
  min-height: 100svh;
  display: grid;
  grid-template-rows: auto 1fr auto;
}

.site-header, .content, .site-footer{
  padding-inline: var(--gutter);
}

.site-header{
  padding-top: var(--pad-top);
}

.content{
  padding-block: clamp(1.6rem, 3vw, 2.4rem);
}

.site-footer{
  padding-bottom: clamp(2.2rem, 4vw, 3rem);
}

.nav{
  max-width: var(--max);
  margin-left: auto;           /* pushes nav container to the right */
  display: flex;
  justify-content: flex-end;   /* aligns items to the right within nav */
  gap: 2rem;                   /* more space between nav items */
  align-items: center;
}

.nav__link{
  color: var(--text);
  font-size: var(--step--1);
  letter-spacing: .01em;

  /* underline */
  text-decoration-line: underline;
  text-decoration-color: var(--nav-underline);
  text-decoration-thickness: 2px;
  text-underline-offset: 0.35em; /* ~half of your previous 0.18em */
  text-decoration-skip-ink: auto;

  padding: .2rem 0;
}

.nav__link:hover{
  color: var(--text);
  text-decoration-color: var(--nav-underline);
}

.nav__link.active{
  color: var(--text);
  text-decoration-line: none;
}

/* ---------- Prose ---------- */
.prose{
  max-width: var(--max);
  margin-top: -60px;
}

.prose h1, .prose h2, .prose h3{
  font-family: var(--heading-font);
  line-height: 1.15;
  letter-spacing: -0.015em;
  margin: 0 0 1em;
  font-weight: 700;
}

.prose h1{
  font-size: var(--step-3);
  margin-top: 0;
}

.prose h2{
  font-size: var(--step-2);
  margin-top: 2em;
}

.prose h3{
  font-size: var(--step-1);
  margin-top: 1.2em;
}

.prose p, .prose ul, .prose ol{
  margin: 0 0 1em;
}

.prose img {
  display: block;
  max-width: 100%;
  height: auto;
  margin: 2.5rem 0;
}

.home-portrait {
  width: 240px;
  height: 240px;      /* force square */
  border-radius: 50%;
  object-fit: cover;
  object-position: 50% 25%;
  display: block;
}

.lede{
  font-size: var(--step-1);
  color: var(--muted);
}

.callout{
  border-left: 3px solid var(--faint);
  padding-left: 1rem;
  color: var(--muted);
}

.kicker{
  margin: 0 0 1rem;
  font-size: var(--step--1);
}

/* Links (clean underline like many typographic sites) */
a{
  color: var(--link);
  text-decoration-thickness: 1px;
  text-underline-offset: 0.18em;
}

a:hover{
  color: var(--link-hover);
}

.text-link{
  color: var(--text);
}

/* ---------- Blog list ---------- */
.post-list{
  list-style: none;
  padding: 0;
  margin: 1.5rem 0 0;
  border-top: 1px solid var(--faint);
}

.post-list__item{
  border-bottom: 1px solid var(--faint);
}

.post-link{
  display: flex;
  gap: 1rem;
  justify-content: space-between;
  padding: .9rem 0;
  text-decoration: none;
}

.post-link__title{
  color: var(--text);
}

.post-link__meta{
  color: var(--muted);
  font-size: var(--step--1);
  white-space: nowrap;
}

.post-meta{
  color: var(--muted);
  font-size: var(--step--1);
  margin-top: -0.4rem;
}

/* ---------- Selection ---------- */
::selection{
  background: rgba(0,0,0,.12);
}

/* ---------- Motion preference ---------- */
@media (prefers-reduced-motion: reduce){
  *{ scroll-behavior: auto !important; }
}
